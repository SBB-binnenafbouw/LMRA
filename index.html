<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Laatste-Minuut-Risico-Analyse</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background-color: #f5f5f5; }
        h1 { color: #333; font-size: 28px; }
        .taalkeuze { margin-bottom: 20px; }
        .taalkeuze select { padding: 8px; font-size: 16px; }
        .vraag { background: white; padding: 20px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.1); }
        .vraag label { font-size: 20px; display: block; margin-bottom: 10px; font-weight: bold; }
        .info { margin-top: 10px; margin-bottom: 20px; color: #555; font-size: 1em; font-style: italic; }
        .keuze-buttons { margin-bottom: 10px; }
        .keuze-buttons button { background-color: #e0e0e0; border: 1px solid #ccc; padding: 8px 16px; margin-right: 10px; border-radius: 5px; font-size: 16px; cursor: pointer; }
        .keuze-buttons button.selected { background-color: #007BFF; color: white; border-color: #0056b3; }
        .waarschuwing { color: #721c24; background-color: #f8d7da; padding: 10px; border-radius: 5px; margin-top: 10px; display: none; font-weight: bold; }
        .resultaat { margin-top: 30px; font-weight: bold; font-size: 1.4em; text-align: center; padding: 20px; border-radius: 8px; display: none; }
    </style>
</head>
<body onload="initPagina()">

<h1 id="titel">Laatste-Minuut-Risico-Analyse</h1>

<div class="taalkeuze">
    <label for="language">Taal / Language:</label>
    <select id="language" onchange="veranderTaal()">
        <option value="nl">ğŸ‡³ğŸ‡± Nederlands</option>
        <option value="en">ğŸ‡¬ğŸ‡§ English</option>
        <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
        <option value="pl">ğŸ‡µğŸ‡± Polski</option>
        <option value="ro">ğŸ‡·ğŸ‡´ RomÃ¢nÄƒ</option>
        <option value="bg">ğŸ‡§ğŸ‡¬ Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸</option>
        <option value="sk">ğŸ‡¸ğŸ‡° SlovenÄina</option>
        <option value="uk">ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</option>
    </select>
</div>

<form id="veiligheidsForm">
    <div id="vragenContainer"></div>
</form>

<div id="resultaat" class="resultaat"></div>

<script>
const teksten = {
    nl: {
        titel: "Laatste-Minuut-Risico-Analyse",
        vragen: [
            ["Weet ik welke risicoâ€™s er zijn bij het werk?", "Begrijp ik welke gevaren er zijn, zoals vallen, snijden of inademen van stof?", "Voorbeeld: werken op hoogte = valgevaar."],
            ["Ken ik de werkinstructie?", "Weet ik hoe ik het werk veilig moet uitvoeren volgens de afspraken?", "Voorbeeld: weten dat je eerst steigers moet controleren voor je erop werkt."],
            ["Zijn mijn gereedschap en middelen goedgekeurd?", "Zijn mijn apparaten gecontroleerd en veilig om te gebruiken?", "Voorbeeld: keuringssticker op boormachine."],
            ["Heb ik de juiste beschermingsmiddelen?", "Draag ik alles wat nodig is om mezelf te beschermen?", "Voorbeeld: helm, handschoenen, stofmasker."],
            ["Is de werkplek veilig?", "Is de omgeving opgeruimd, stabiel en zonder directe gevaren?", "Voorbeeld: geen losse kabels op de grond."],
            ["Weet ik wat te doen bij nood?", "Ken ik de nooduitgangen, EHBO-post en wie ik moet waarschuwen?", "Voorbeeld: weten waar de brandblusser hangt."]
        ],
        knoppen: ["Ja", "Nee"],
        resultaatJa: "âœ… U kan beginnen met werken.",
        resultaatNee: "âŒLos het probleem op of neem contact op met uw direct leidinggevende. Het loont niet om risico's te nemen!",
        resultaatIncompleet: "âš ï¸ Beantwoord alle vragen."
    },
    en: {
        titel: "Last-Minute Risk Assessment",
        vragen: [
            ["Do I know the risks of the job?", "Do I understand dangers like falling, cuts or breathing in dust?", "Example: working at height = fall risk."],
            ["Do I know the work instruction?", "Do I know how to do the job safely according to the procedures?", "Example: check scaffolding before use."],
            ["Are my tools and equipment approved?", "Have my tools been inspected and are they safe to use?", "Example: inspection sticker on drill."],
            ["Do I have the right protective gear?", "Do I wear all necessary protection?", "Example: helmet, gloves, dust mask."],
            ["Is the workplace safe?", "Is the area clean, stable and without hazards?", "Example: no loose cables on the floor."],
            ["Do I know what to do in case of emergency?", "Do I know the emergency exits, first aid station and who to call?", "Example: knowing where the fire extinguisher is."]
        ],
        knoppen: ["Yes", "No"],
        resultaatJa: "âœ… You may start working.",
        resultaatNee: "âŒFix the issue or contact your supervisor. It is not worth taking risks!",
        resultaatIncompleet: "âš ï¸ Please answer all questions."
    },
    de: {
        titel: "Last-Minute-Risikoanalyse",
        vragen: [...],
        knoppen: ["Ja", "Nein"],
        resultaatJa: "âœ… Sie kÃ¶nnen mit der Arbeit beginnen.",
        resultaatNee: "âŒBeheben Sie das Problem oder wenden Sie sich an Ihren Vorgesetzten. Es lohnt sich nicht, Risiken einzugehen!",
        resultaatIncompleet: "âš ï¸ Bitte beantworten Sie alle Fragen."
    },
    pl: {
        titel: "Ocena Ryzyka na OstatniÄ… ChwilÄ™",
        vragen: [...],
        knoppen: ["Tak", "Nie"],
        resultaatJa: "âœ… MoÅ¼esz rozpoczÄ…Ä‡ pracÄ™.",
        resultaatNee: "âŒRozwiÄ…Å¼ problem lub skontaktuj siÄ™ z przeÅ‚oÅ¼onym. Nie warto ryzykowaÄ‡!",
        resultaatIncompleet: "âš ï¸ Odpowiedz na wszystkie pytania."
    },
    ro: {
        titel: "Evaluarea Riscurilor de Ultim Moment",
        vragen: [...],
        knoppen: ["Da", "Nu"],
        resultaatJa: "âœ… PuteÈ›i Ã®ncepe lucrul.",
        resultaatNee: "âŒRezolvaÈ›i problema sau contactaÈ›i superiorul dumneavoastrÄƒ. Nu meritÄƒ sÄƒ vÄƒ asumaÈ›i riscuri!",
        resultaatIncompleet: "âš ï¸ RÄƒspundeÈ›i la toate Ã®ntrebÄƒrile."
    },
    bg: {
        titel: "ĞÑ†ĞµĞ½ĞºĞ° Ğ½Ğ° Ñ€Ğ¸ÑĞºĞ° Ğ² Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚",
        vragen: [...],
        knoppen: ["Ğ”Ğ°", "ĞĞµ"],
        resultaatJa: "âœ… ĞœĞ¾Ğ¶ĞµÑ‚Ğµ Ğ´Ğ° Ğ·Ğ°Ğ¿Ğ¾Ñ‡Ğ½ĞµÑ‚Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°.",
        resultaatNee: "âŒĞ ĞµÑˆĞµÑ‚Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ğ¸Ğ»Ğ¸ ÑĞµ ÑĞ²ÑŠÑ€Ğ¶ĞµÑ‚Ğµ Ñ Ğ²Ğ°ÑˆĞ¸Ñ Ñ€ÑŠĞºĞ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ». ĞĞµ ÑĞ¸ ÑÑ‚Ñ€ÑƒĞ²Ğ° Ñ€Ğ¸ÑĞºĞ°!",
        resultaatIncompleet: "âš ï¸ ĞÑ‚Ğ³Ğ¾Ğ²Ğ¾Ñ€ĞµÑ‚Ğµ Ğ½Ğ° Ğ²ÑĞ¸Ñ‡ĞºĞ¸ Ğ²ÑŠĞ¿Ñ€Ğ¾ÑĞ¸."
    },
    sk: {
        titel: "AnalÃ½za rizÃ­k na poslednÃº chvÃ­Ä¾u",
        vragen: [...],
        knoppen: ["Ãno", "Nie"],
        resultaatJa: "âœ… MÃ´Å¾ete zaÄaÅ¥ pracovaÅ¥.",
        resultaatNee: "âŒRieÅ¡te problÃ©m alebo kontaktujte nadriadenÃ©ho. NeoplatÃ­ sa riskovaÅ¥!",
        resultaatIncompleet: "âš ï¸ Odpovedzte na vÅ¡etky otÃ¡zky."
    },
    uk: {
        titel: "ĞĞ½Ğ°Ğ»Ñ–Ğ· Ñ€Ğ¸Ğ·Ğ¸ĞºÑ–Ğ² Ğ² Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½Ñƒ",
        vragen: [...],
        knoppen: ["Ğ¢Ğ°Ğº", "ĞÑ–"],
        resultaatJa: "âœ… Ğ’Ğ¸ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿Ğ¾Ñ‡Ğ°Ñ‚Ğ¸ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ñƒ.",
        resultaatNee: "âŒĞ£ÑÑƒĞ½ÑŒÑ‚Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ Ğ°Ğ±Ğ¾ Ğ·Ğ²ĞµÑ€Ğ½Ñ–Ñ‚ÑŒÑÑ Ğ´Ğ¾ ĞºĞµÑ€Ñ–Ğ²Ğ½Ğ¸ĞºĞ°. ĞĞµ Ğ²Ğ°Ñ€Ñ‚Ğ¾ Ñ€Ğ¸Ğ·Ğ¸ĞºÑƒĞ²Ğ°Ñ‚Ğ¸!",
        resultaatIncompleet: "âš ï¸ Ğ”Ğ°Ğ¹Ñ‚Ğµ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ½Ğ° Ğ²ÑÑ– Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ."
    }
};

let antwoorden = {};
let huidigeTaal = 'nl';

function renderVragen(taal) {
    const container = document.getElementById("vragenContainer");
    const taalTeksten = teksten[taal];
    document.getElementById("titel").innerText = taalTeksten.titel;
    container.innerHTML = "";
    huidigeTaal = taal;
    antwoorden = {};

    taalTeksten.vragen.forEach((vraag, index) => {
        const vraagId = `vraag${index + 1}`;
        const vraagHTML = `
        <div class="vraag" id="${vraagId}">
            <label>${index + 1}. ${vraag[0]}</label>
            <div class="info">${vraag[1]}<br><strong>${vraag[2]}</strong></div>
            <div class="keuze-buttons">
                <button type="button" onclick="selecteer(this, '${vraagId}', 'ja')">${taalTeksten.knoppen[0]}</button>
                <button type="button" onclick="selecteer(this, '${vraagId}', 'nee')">${taalTeksten.knoppen[1]}</button>
            </div>
            <div class="waarschuwing" id="${vraagId}-waarschuwing"></div>
        </div>`;
        container.innerHTML += vraagHTML;
    });

    document.getElementById("resultaat").style.display = "none";
}

function veranderTaal() {
    const taal = document.getElementById("language").value;
    renderVragen(taal);
}

function selecteer(button, vraagId, antwoord) {
    antwoorden[vraagId] = antwoord;

    const buttons = button.parentElement.querySelectorAll('button');
    buttons.forEach(btn => btn.classList.remove('selected'));
    button.classList.add('selected');

    const waarschuwingDiv = document.getElementById(`${vraagId}-waarschuwing`);
    if (antwoord === 'nee') {
        waarschuwingDiv.textContent = teksten[huidigeTaal].resultaatNee;
        waarschuwingDiv.style.display = "block";
    } else {
        waarschuwingDiv.textContent = '';
        waarschuwingDiv.style.display = "none";
    }

    controleerFormulier();
}

function controleerFormulier() {
    const resultDiv = document.getElementById("resultaat");
    const taalTeksten = teksten[huidigeTaal];

    if (Object.keys(antwoorden).length < 6) {
        resultDiv.innerHTML = `<span style='color: orange;'>${taalTeksten.resultaatIncompleet}</span>`;
        resultDiv.style.display = "block";
        resultDiv.style.backgroundColor = "#fff3cd";
        resultDiv.style.color = "#856404";
        return;
    }

    let alleJa = Object.values(antwoorden).every(v => v === 'ja');
    resultDiv.innerHTML = alleJa
        ? `<span style='color: green;'>${taalTeksten.resultaatJa}</span>`
        : `<span style='color: red;'>${taalTeksten.resultaatNee}</span>`;
    resultDiv.style.display = "block";
    resultDiv.style.backgroundColor = alleJa ? "#d4edda" : "#f8d7da";
    resultDiv.style.color = alleJa ? "#155724" : "#721c24";
}

function initPagina() {
    const userLang = navigator.language.slice(0, 2);
    const taal = Object.keys(teksten).includes(userLang) ? userLang : 'nl';
    document.getElementById("language").value = taal;
    renderVragen(taal);
}
</script>

</body>
</html>
